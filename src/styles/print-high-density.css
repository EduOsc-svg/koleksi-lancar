/* High-Density A4 Coupon Print Styles */
/* Target: 18-24 coupons per A4 page (3-4 columns x 6-8 rows) */

/* Hide on screen */
.print-high-density-container {
  display: none;
}

@media print {
  /* Page setup - A4 with minimal margins */
  @page {
    size: A4 portrait;
    margin: 5mm;
  }

  /* Hide everything except print container */
  body * {
    visibility: hidden;
  }

  .print-high-density-container,
  .print-high-density-container * {
    visibility: visible;
  }

  /* Reset body for printing */
  body {
    margin: 0 !important;
    padding: 0 !important;
    background: white !important;
    -webkit-print-color-adjust: exact;
    print-color-adjust: exact;
  }

  /* Main container positioning */
  .print-high-density-container {
    display: block !important;
    position: absolute;
    left: 0;
    top: 0;
    width: 100%;
    background: white;
  }

  /* Grid layout - optimized for A4 (210mm width - 10mm margins = 200mm usable) */
  /* 4 columns of ~48mm each with 2mm gaps = 192mm + 6mm gaps = 198mm */
  .hd-coupon-grid {
    display: grid;
    grid-template-columns: repeat(4, 1fr);
    gap: 2mm;
    width: 200mm;
    margin: 0 auto;
  }

  /* Individual coupon card - compact design */
  /* A4 height = 297mm - 10mm margins = 287mm usable */
  /* 6 rows of ~45mm each with gaps = ~270mm + 10mm gaps = 280mm */
  .hd-coupon-card {
    width: 100%;
    height: 45mm;
    border: 0.5pt solid #000;
    padding: 2mm;
    box-sizing: border-box;
    break-inside: avoid;
    page-break-inside: avoid;
    display: flex;
    flex-direction: column;
    justify-content: space-between;
    background: white;
    overflow: hidden;
  }

  /* Header section */
  .hd-header {
    text-align: center;
    border-bottom: 0.3pt solid #999;
    padding-bottom: 1mm;
    margin-bottom: 1mm;
  }

  .hd-company {
    font-size: 7pt;
    font-weight: bold;
    line-height: 1.1;
    margin: 0;
  }

  .hd-contract-ref {
    font-size: 6pt;
    color: #333;
    margin: 0;
  }

  /* Body section */
  .hd-body {
    flex: 1;
    display: flex;
    flex-direction: column;
    justify-content: center;
    gap: 0.5mm;
  }

  .hd-customer {
    font-size: 7pt;
    font-weight: 500;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
    margin: 0;
    text-align: center;
  }

  .hd-due-date {
    font-size: 8pt;
    font-weight: bold;
    text-align: center;
    margin: 0;
  }

  .hd-index {
    font-size: 10pt;
    font-weight: bold;
    text-align: center;
    margin: 0;
    background: #000;
    color: #fff;
    padding: 1mm 2mm;
    border-radius: 1mm;
    align-self: center;
  }

  /* Footer section - Amount */
  .hd-footer {
    text-align: center;
    border-top: 0.3pt solid #999;
    padding-top: 1mm;
    margin-top: 1mm;
  }

  .hd-amount-label {
    font-size: 5pt;
    color: #666;
    margin: 0;
  }

  .hd-amount {
    font-size: 9pt;
    font-weight: bold;
    margin: 0;
  }

  /* Force page break after every 24 coupons (4 cols x 6 rows) */
  .hd-coupon-card:nth-child(24n) {
    break-after: page;
    page-break-after: always;
  }
}
